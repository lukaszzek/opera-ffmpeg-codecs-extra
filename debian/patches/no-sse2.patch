description: don't set sse2 compiler flags on i386
author: Michael Gilbert <mgilbert@debian.org>
debian-bug: http://bugs.debian.org/750361

--- a/src/build/common.gypi
+++ b/src/build/common.gypi
@@ -3391,7 +3391,7 @@
                 # http://crbug.com/313032 for an example where this has "bit"
                 # us in the past.
                 'cflags': [
-                  '-msse2',
+                  '-msse',
                   '-mfpmath=sse',
                   '-mmmx',  # Allows mmintrin.h for MMX intrinsics.
                   '-m32',
--- a/src/third_party/qcms/qcms.gyp
+++ b/src/third_party/qcms/qcms.gyp
@@ -31,7 +31,7 @@
       'msvs_disabled_warnings': [ 4018 ],
 
       'conditions': [
-        ['target_arch=="ia32" or target_arch=="x64"', {
+        ['target_arch=="x64"', {
           'defines': [
             'SSE2_ENABLE',
           ],
