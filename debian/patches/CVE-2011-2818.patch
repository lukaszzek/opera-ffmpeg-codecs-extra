--- a/src/third_party/WebKit/WebCore/rendering/RenderBox.cpp
+++ b/src/third_party/WebKit/WebCore/rendering/RenderBox.cpp
@@ -2828,7 +2828,7 @@ bool RenderBox::shrinkToAvoidFloats() co
 
 bool RenderBox::avoidsFloats() const
 {
-    return isReplaced() || hasOverflowClip() || isHR();
+    return isReplaced() || hasOverflowClip() || isHR() || isDeprecatedFlexItem();
 }
 
 void RenderBox::addShadowOverflow()
--- a/src/third_party/WebKit/WebCore/rendering/RenderObject.h
+++ b/src/third_party/WebKit/WebCore/rendering/RenderObject.h
@@ -409,6 +409,7 @@ public:
 
     bool hasTransform() const { return m_hasTransform; }
     bool hasMask() const { return style() && style()->hasMask(); }
+    bool isDeprecatedFlexItem() const { return !isInline() && !isFloatingOrPositioned() && parent() && parent()->isFlexibleBox(); }
 
     void drawLineForBoxSide(GraphicsContext*, int x1, int y1, int x2, int y2, BoxSide,
                             Color, EBorderStyle, int adjbw1, int adjbw2);
